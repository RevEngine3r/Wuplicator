# STEP1: Create Module Structure & Base Classes

## Objective
Establish the foundational module architecture and create core base classes that will be used by all modules.

## Tasks

### 1. Directory Structure Creation
Create the complete module directory tree:

```
src/
├── modules/
│   ├── backupper/
│   │   ├── core/
│   │   ├── database/
│   │   ├── files/
│   │   ├── generator/
│   │   └── ui/
│   └── installer/
│       ├── core/
│       ├── download/
│       ├── extraction/
│       ├── database/
│       ├── configuration/
│       ├── security/
│       └── ui/
├── build/
│   ├── backupper/
│   ├── installer/
│   └── templates/
└── releases/
    └── .gitkeep
```

### 2. Core Utilities

#### src/modules/backupper/core/Config.php
- Version constant
- Default configurations
- Exclusion patterns
- Path constants

#### src/modules/backupper/core/Logger.php
- Log message storage
- Error tracking
- Log retrieval methods
- Formatted output

#### src/modules/backupper/core/Utils.php
- formatBytes() - Human-readable file sizes
- sanitizePath() - Path sanitization
- generateToken() - Security token generation
- validatePath() - Path validation

#### src/modules/installer/core/ (Similar structure)
- Config.php
- Logger.php
- Utils.php

### 3. Base Interfaces

#### src/modules/backupper/core/ModuleInterface.php
```php
interface ModuleInterface {
    public function initialize(): bool;
    public function execute(): mixed;
    public function cleanup(): void;
    public function getErrors(): array;
}
```

### 4. Build Template Files

#### src/build/templates/header.template.php
```php
<?php
/**
 * {MODULE_NAME} - {MODULE_DESCRIPTION}
 * 
 * Compiled Build: {VERSION}
 * Build Date: {BUILD_DATE}
 * Build Time: {BUILD_TIME}
 * 
 * This file is automatically generated. DO NOT EDIT.
 * Source: https://github.com/RevEngine3r/Wuplicator
 * 
 * @version {VERSION}
 * @author RevEngine3r
 */

// Prevent direct access
if (!defined('WUPLICATOR_EXEC')) {
    die('Direct access not permitted');
}
```

#### src/build/templates/footer.template.php
```php
// Execute main class
$instance = new {MAIN_CLASS}();
$instance->run();
```

### 5. .gitkeep Files
Create empty .gitkeep files in:
- `releases/`
- `src/build/backupper/`
- `src/build/installer/`

## File Changes

### New Files (21 files)
1. Directory structure (.gitkeep files)
2. Core utilities (6 files: 3 backupper + 3 installer)
3. Interfaces (2 files)
4. Templates (2 files)
5. README placeholders (8 directories)

### Modified Files
None (this step only creates new structure)

## Testing

### Manual Tests
1. ✅ All directories created
2. ✅ Core classes have proper namespace
3. ✅ Utility functions work independently
4. ✅ Logger can store and retrieve messages
5. ✅ Config constants are accessible
6. ✅ Templates contain correct placeholders

### Validation
```bash
# Check directory structure
dir /s /b src\modules
dir /s /b src\build
dir /s /b releases
```

## Success Criteria

- ✅ Complete directory structure exists
- ✅ All core utility classes implemented
- ✅ Interfaces defined
- ✅ Templates ready for build system
- ✅ No syntax errors in any file
- ✅ Proper PHP namespaces used
- ✅ PSR-4 autoloading compatible

## Estimated Time
1-2 hours

## Dependencies
None (foundational step)

## Next Step
STEP2: Modularize Backupper (split wuplicator.php)
